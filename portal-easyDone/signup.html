<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>easyDone</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <!-- custom css -->
    <link rel="stylesheet" href="./styles/styles.css">
    <!-- axios -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  </head>
  <script>
    async function signup(){
      let url = 'http://localhost:4001/api/v1/users/';
      var fname = document.getElementById("fname").value;
      var lname = document.getElementById("lname").value;
      var useremail = document.getElementById("email").value;
      var userpassword = document.getElementById("password").value;
      var ucity = document.getElementById("city").value;
      var ustate = document.getElementById("state").value;
      var ucountry = document.getElementById("country").value;
      var uphone = document.getElementById("phone").value;

      await axios.post(
        url, {
          firstName: fname,
          lastName: lname,
          email: useremail,
          password: userpassword,
          city: ucity,
          state: ustate,
          country: ucountry,
          phone: uphone
        }
      )
      .then((res) => {
        console.log(res);
        console.log("Signup Successful.")
        
        if(true){
          alert("Signup Successful");
          window.location.assign("index.html");
        }
      })
      .catch((err) => {console.error(err)})
    }
  </script>
  <body>
    <!-- navbar -->
    <section class="header">
        <div class="container">
            <!-- Navbar Starts -->
            <nav class="navbar navbar-dark navbar-expand-lg ">
                <div class="container-fluid">
                    <!-- logo -->
                  <a class="navbar-brand" href="./index.html">
                    <img src="./assets/img/easyDone-white.png" width="200" alt="logo easydone" class="d-inline-block align-middle mr-2">
                  </a>

                  <!-- buttons -->
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>
                  <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                      <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#">Contact Us</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#">About</a>
                      </li>
                    </ul>
                  </div>
                </div>
              </nav>    
            <!-- Navbar Ends -->
        </div>
    </section>

    <!-- Landing section 1 -->
    <section class="landing-1">
        
        <div class="container">
            <div class="row">
                <h1 class="white-text fw-bold">Fill in the details to sign up.</h1>
              <div class="col-sm">
                  <form id="signup-form">
                    <div class="form-group">
                        <label for="firstname">First Name</label>
                        <input type="text" class="form-control" id="fname">
                    </div>
                    <div class="form-group">
                        <label for="lastname">Last Name</label>
                        <input type="text" class="form-control" id="lname">
                    </div>
                    <div class="form-group">
                      <label for="exampleInputEmail1">Email address</label>
                      <input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Enter email">
                      <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
                    </div>
                    <div class="form-group">
                      <label for="exampleInputPassword1">Password</label>
                      <input type="password" class="form-control" id="password" placeholder="Password">
                    </div>
                    <div class="form-group form-check">
                      <input type="checkbox" class="form-check-input" id="exampleCheck1">
                      <label class="form-check-label" for="exampleCheck1">Recieve promotions and notifications through email</label>
                    </div>
                    <button id="btn-login" type="submit" class="btn btn-primary btn-lg rounded-pill" onclick="signup()">Sign Up</button>
                  </form>
              </div>
              <div class="col-sm">
                <div class="form-group">
                    <label for="city">City</label>
                    <input type="text" class="form-control" id="city">
                </div>
                <div class="form-group">
                    <label for="state">State</label>
                    <input type="text" class="form-control" id="state">
                </div>
                <div class="form-group">
                    <label for="country">Country</label>
                    <input type="text" class="form-control" id="country">
                </div>
                <div class="form-group">
                    <label for="phone">Phone</label>
                    <input type="text" class="form-control" id="phone">
                </div>
              </div>
            </div>
          </div>
    </section>

    <section id="footer">
      <div class="container">
        <footer>
          <ul class="nav justify-content-center border-bottom">
            <li class="nav-item"><a href="./index.html" class="nav-link text-muted">Home</a></li>
            <li class="nav-item"><a href="#" class="nav-link text-muted">About</a></li>
            <li class="nav-item"><a href="#" class="nav-link text-muted">Contact Us</a></li>
          </ul>
          <p class="text-center text-muted">&copy; 2022 easyDone</p>
        </footer>
      </div>
    </section>



    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js" integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk" crossorigin="anonymous"></script>
  </body>
</html>